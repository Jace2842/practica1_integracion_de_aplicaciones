<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->
<!DOCTYPE html>
<html>
<head>
<title>LÓGICA.drawio(1)</title>
<meta charset="utf-8"/>
</head>
<body><div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;dark-mode&quot;:&quot;auto&quot;,&quot;toolbar&quot;:&quot;zoom layers tags lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:144.0) Gecko/20100101 Firefox/144.0\&quot; scale=\&quot;1\&quot; border=\&quot;0\&quot; version=\&quot;28.2.8\&quot;&gt;\n  &lt;diagram id=\&quot;fg-logic\&quot; name=\&quot;Lógica del flujo (0/1)\&quot;&gt;\n    &lt;mxGraphModel dx=\&quot;1389\&quot; dy=\&quot;777\&quot; grid=\&quot;1\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;1600\&quot; pageHeight=\&quot;1000\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;&gt;\n      &lt;root&gt;\n        &lt;mxCell id=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;title\&quot; value=\&quot;Fresh and Go – Diagrama de lógica de integración (con decisiones 0/1)\&quot; style=\&quot;text;html=1;fontSize=20;fontStyle=1;align=center;whiteSpace=wrap\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;280\&quot; y=\&quot;40\&quot; width=\&quot;1040\&quot; height=\&quot;30\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;start\&quot; value=\&quot;Inicio: Usuario realiza solicitud a la API (REST/JSON)\&quot; style=\&quot;shape=terminator;whiteSpace=wrap;html=1;fillColor=#E8F0FE;strokeColor=#90CAF9\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;620\&quot; y=\&quot;110\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;p_api_recv\&quot; value=\&quot;API Unificada recibe petición\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#BDBDBD\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;620\&quot; y=\&quot;180\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;d_crm_ok\&quot; value=\&quot;¿CRM responde correctamente?\&quot; style=\&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FBC02D\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;700\&quot; y=\&quot;250\&quot; width=\&quot;200\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;p_call_crm\&quot; value=\&quot;Llamar a CRM: GET /clientes, /proveedores\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#64B5F6\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;1040\&quot; y=\&quot;265\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;p_err_crm\&quot; value=\&quot;Registrar error y devolver mensaje (CRM no disponible)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#E57373\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;300\&quot; y=\&quot;265\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;d_iot_valid\&quot; value=\&quot;¿Lectura IoT válida?\&quot; style=\&quot;rhombus;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#FBC02D\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;1120\&quot; y=\&quot;355\&quot; width=\&quot;200\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;p_alert\&quot; value=\&quot;Generar alerta a Administrador/Soporte (futura ampliación)&amp;lt;br&amp;gt;• Notificación de fallos o incidencias&amp;lt;div&amp;gt;&amp;lt;br/&amp;gt;&amp;lt;/div&amp;gt;\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#FFB74D\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;300\&quot; y=\&quot;365\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;p_save_db\&quot; value=\&quot;Guardar datos consolidados en BBDD (SQL)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFDE7;strokeColor=#FBC02D\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;1400\&quot; y=\&quot;365\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;end\&quot; value=\&quot;Responder al usuario (REST/JSON)\&quot; style=\&quot;shape=terminator;whiteSpace=wrap;html=1;fillColor=#E8F0FE;strokeColor=#90CAF9\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;900\&quot; y=\&quot;460\&quot; width=\&quot;360\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e1\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;start\&quot; target=\&quot;p_api_recv\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e2\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;p_api_recv\&quot; target=\&quot;d_crm_ok\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e3\&quot; value=\&quot;1\&quot; style=\&quot;endArrow=classic;strokeWidth=2;labelBackgroundColor=#FFFFFF\&quot; parent=\&quot;1\&quot; source=\&quot;d_crm_ok\&quot; target=\&quot;p_call_crm\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e4\&quot; value=\&quot;0\&quot; style=\&quot;endArrow=classic;strokeWidth=2;labelBackgroundColor=#FFFFFF\&quot; parent=\&quot;1\&quot; source=\&quot;d_crm_ok\&quot; target=\&quot;p_err_crm\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e5\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;p_err_crm\&quot; target=\&quot;end\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e6\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;p_call_crm\&quot; target=\&quot;d_iot_valid\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e7\&quot; value=\&quot;1\&quot; style=\&quot;endArrow=classic;strokeWidth=2;labelBackgroundColor=#FFFFFF\&quot; parent=\&quot;1\&quot; source=\&quot;d_iot_valid\&quot; target=\&quot;p_save_db\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e8\&quot; value=\&quot;0\&quot; style=\&quot;endArrow=classic;strokeWidth=2;labelBackgroundColor=#FFFFFF\&quot; parent=\&quot;1\&quot; source=\&quot;d_iot_valid\&quot; target=\&quot;p_alert\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e9\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;p_alert\&quot; target=\&quot;end\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;e10\&quot; style=\&quot;endArrow=classic;strokeWidth=2\&quot; parent=\&quot;1\&quot; source=\&quot;p_save_db\&quot; target=\&quot;end\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;legend\&quot; value=\&quot;Leyenda: 1 = Sí/True · 0 = No/False\&quot; style=\&quot;shape=note;whiteSpace=wrap;html=1;fillColor=#FFFFCC;strokeColor=#BDBDBD;fontSize=12\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;120\&quot; y=\&quot;520\&quot; width=\&quot;300\&quot; height=\&quot;70\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;realFlow\&quot; value=\&quot;Flujo:&amp;#xa;• API recibe petición&amp;#xa;• Consulta CRM → si falla, registra error y responde&amp;#xa;• Si CRM OK, consulta IoT&amp;#xa;• IoT OK → guarda en BBDD; IoT KO → alerta a soporte&amp;#xa;• Devuelve respuesta JSON al usuario\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#F0F4C3;strokeColor=#C0CA33;fontSize=12\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;120\&quot; y=\&quot;610\&quot; width=\&quot;1120\&quot; height=\&quot;90\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n      &lt;/root&gt;\n    &lt;/mxGraphModel&gt;\n  &lt;/diagram&gt;\n&lt;/mxfile&gt;\n&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
</body>
</html>